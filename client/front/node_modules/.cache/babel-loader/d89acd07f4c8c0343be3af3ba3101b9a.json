{"ast":null,"code":"import _slicedToArray from\"/Users/artemblohin/Desktop/hakaton-2023-2-team1-stock/stock-market/client/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"/Users/artemblohin/Desktop/hakaton-2023-2-team1-stock/stock-market/client/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/artemblohin/Desktop/hakaton-2023-2-team1-stock/stock-market/client/front/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from'react';import{Tab,Tabs,TabList,TabPanel}from'react-tabs';import'react-tabs/style/react-tabs.css';import PageTitle from'../components/pagetitle';import{Link}from'react-router-dom';import img from'../assets/images/avt/avt.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function loginAndFetchData(_x){return _loginAndFetchData.apply(this,arguments);}function _loginAndFetchData(){_loginAndFetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(setUserInfo){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/api/user/profile\",{method:\"GET\",headers:{'Content-Type':'application/json'}});case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error(\"Network response was not ok\");case 6:_context.next=8;return response.json();case 8:data=_context.sent;console.log(data,response.status);setUserInfo({nickname:data.nickname,email:data.email,firstname:data.firstname,lastname:data.lastname});_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,13]]);}));return _loginAndFetchData.apply(this,arguments);}function UserProfile(props){var _useState=useState([{id:1,title:'User Profile',icon:'fa-user'},{id:2,title:'Referrals',icon:'fa-share-nodes'},{id:5,title:'Change password',icon:'fa-lock'}]),_useState2=_slicedToArray(_useState,1),dataCoinTab=_useState2[0];var _useState3=useState({nickname:\"\",email:\"\",firstname:\"\",lastname:\"\"}),_useState4=_slicedToArray(_useState3,2),userInfo=_useState4[0],setUserInfo=_useState4[1];useEffect(function(){loginAndFetchData(setUserInfo);},[]);var nickname=userInfo.nickname,email=userInfo.email,firstname=userInfo.firstname,lastname=userInfo.lastname;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PageTitle,{heading:\"User Profile\",title:\"User\"}),/*#__PURE__*/_jsx(\"section\",{className:\"user-profile flat-tabs\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(Tabs,{children:[/*#__PURE__*/_jsxs(TabList,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"avt\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"custom-file-input\",id:\"imgInp\",required:true}),/*#__PURE__*/_jsx(\"img\",{id:\"blah\",src:img,alt:\"no file\"})]}),/*#__PURE__*/_jsx(\"h6\",{className:\"name\",id:\"nickname\",children:nickname}),/*#__PURE__*/_jsx(\"p\",{id:\"email\",children:email})]}),dataCoinTab.map(function(idx){return/*#__PURE__*/_jsx(Tab,{children:/*#__PURE__*/_jsxs(\"h6\",{className:\"fs-16\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa \".concat(idx.icon)}),idx.title]})},idx.id);})]}),/*#__PURE__*/_jsx(TabPanel,{children:/*#__PURE__*/_jsx(\"div\",{className:\"content-inner profile\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"#\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"User Profile\"}),/*#__PURE__*/_jsx(\"h6\",{children:\"Infomation\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group d-flex s1\",children:[\"FirstName: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"firstname\",value:firstname}),\"LastName: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"lastname\",value:lastname})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-action\",children:\"Update Profile\"})]})})}),/*#__PURE__*/_jsx(TabPanel,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"content-inner referrals\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Total rewards\"}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"$1,056.00 \",/*#__PURE__*/_jsx(\"span\",{children:\"USD\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"You're earning 20% of the trading fees your referrals pay. Learn more\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Invite friends to earn 20%\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"refe\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Referral link\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:\"https://accounts.rockie.com/login\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Referral code\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:\"N84CRDKK\"}),/*#__PURE__*/_jsx(\"span\",{className:\"btn-action\",children:\"Copied\"})]})]})]}),/*#__PURE__*/_jsx(Link,{to:\"/wallet\",className:\"btn-action\",children:\"My Wallet\"})]})}),/*#__PURE__*/_jsx(TabPanel,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"content-inner profile change-pass\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Change Password\"}),/*#__PURE__*/_jsx(\"h6\",{children:\"New Passworld\"}),/*#__PURE__*/_jsxs(\"form\",{action:\"#\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Old Passworld\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"}),\":\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:\"123456789\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"New Passworld\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"}),\":\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"New Passworld\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Confirm Passworld\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"}),\":\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Confirm Passworld\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-action\",children:\"Change Passworld\"})]})})]})})})})]});}export default UserProfile;","map":{"version":3,"sources":["/Users/artemblohin/Desktop/hakaton-2023-2-team1-stock/stock-market/client/front/src/pages/UserProfile.jsx"],"names":["React","useState","useEffect","Tab","Tabs","TabList","TabPanel","PageTitle","Link","img","loginAndFetchData","setUserInfo","fetch","method","headers","response","ok","Error","json","data","console","log","status","nickname","email","firstname","lastname","error","UserProfile","props","id","title","icon","dataCoinTab","userInfo","map","idx"],"mappings":"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","sourcesContent":["import React , {useState, useEffect} from 'react';\r\n\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport 'react-tabs/style/react-tabs.css';\r\nimport PageTitle from '../components/pagetitle';\r\nimport {Link} from 'react-router-dom';\r\nimport img from '../assets/images/avt/avt.png'\r\n\r\nUserProfile.propTypes = {\r\n};\r\n\r\nasync function loginAndFetchData(setUserInfo) {\r\n    try {\r\n        const response = await fetch(\"/api/user/profile\", {\r\n            method: \"GET\",\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n        });\r\n\r\n        if (!response.ok) {\r\n            throw new Error(\"Network response was not ok\");\r\n        }\r\n\r\n        const data = await response.json();\r\n        console.log(data, response.status);\r\n\r\n        setUserInfo({\r\n            nickname: data.nickname,\r\n            email: data.email,\r\n            firstname: data.firstname,\r\n            lastname: data.lastname\r\n        });\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n}\r\n\r\n\r\nfunction UserProfile(props) {\r\n    const [dataCoinTab] = useState([\r\n        {\r\n            id: 1,\r\n            title: 'User Profile',\r\n            icon: 'fa-user'\r\n        },\r\n        {\r\n            id: 2,\r\n            title: 'Referrals',\r\n            icon: 'fa-share-nodes'\r\n        },\r\n        {\r\n            id: 5,\r\n            title: 'Change password',\r\n            icon: 'fa-lock'\r\n        },\r\n    ]);\r\n\r\n    const [userInfo, setUserInfo] = useState({\r\n        nickname: \"\",\r\n        email: \"\",\r\n        firstname: \"\",\r\n        lastname: \"\"\r\n    });\r\n\r\n    useEffect(() => {\r\n        loginAndFetchData(setUserInfo);\r\n    }, []);\r\n    \r\n\r\n    const { nickname, email, firstname, lastname } = userInfo;\r\n    \r\n    return (\r\n        <div>\r\n            <PageTitle heading='User Profile' title='User' />\r\n\r\n\r\n            <section className=\"user-profile flat-tabs\">\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                <Tabs>\r\n                    \r\n                    <TabList>\r\n                        <div className=\"user-info center\">\r\n                            <div className=\"avt\">\r\n                                <input\r\n                                type=\"file\"\r\n                                className=\"custom-file-input\"\r\n                                id=\"imgInp\"\r\n                                required\r\n                                />\r\n                                <img id=\"blah\" src={img} alt=\"no file\" />\r\n                            </div>\r\n                            <h6 className=\"name\" id=\"nickname\">{nickname}</h6>\r\n                            <p id=\"email\">{email}</p>\r\n                        </div>\r\n                        {\r\n                            dataCoinTab.map(idx => (\r\n                                <Tab key={idx.id}><h6 className=\"fs-16\">\r\n                                <i className={`fa ${idx.icon}`}></i>\r\n                                {idx.title}\r\n                                </h6></Tab>\r\n                            ))\r\n                        }\r\n\r\n                    </TabList>\r\n\r\n                    <TabPanel>\r\n                        <div className=\"content-inner profile\">\r\n                            <form action=\"#\">\r\n                            <h4>User Profile</h4>\r\n                            <h6>Infomation</h6>\r\n\r\n                            <div className=\"form-group d-flex s1\">\r\n                                FirstName: <input type=\"text\" className=\"form-control\" id=\"firstname\" value={firstname} />\r\n                                LastName: <input\r\n                                type=\"text\"\r\n                                className=\"form-control\"\r\n                                id=\"lastname\"\r\n                                value={lastname}\r\n                                />\r\n                            </div>\r\n\r\n                            <button type=\"submit\" className=\"btn-action\">\r\n                                Update Profile\r\n                            </button>\r\n                            </form>\r\n                        </div>\r\n                    </TabPanel>\r\n\r\n                    <TabPanel>\r\n                        <div className=\"content-inner referrals\">\r\n                            <h6>Total rewards</h6>\r\n                            <h4>$1,056.00 <span>USD</span></h4>\r\n                            <p>\r\n                            You're earning 20% of the trading fees your referrals pay.\r\n                            Learn more\r\n                            </p>\r\n                            <div className=\"main\">\r\n                            <h6>Invite friends to earn 20%</h6>\r\n\r\n                            <div className=\"refe\">\r\n                                <div>\r\n                                <p>Referral link</p>\r\n                                <input\r\n                                    className=\"form-control\"\r\n                                    type=\"text\"\r\n                                    value=\"https://accounts.rockie.com/login\"\r\n                                />\r\n                                </div>\r\n                                <div>\r\n                                <p>Referral code</p>\r\n                                <input\r\n                                    className=\"form-control\"\r\n                                    type=\"text\"\r\n                                    value=\"N84CRDKK\"\r\n                                />\r\n                                <span className=\"btn-action\">Copied</span>\r\n                                </div>\r\n                            </div>\r\n                            </div>\r\n\r\n                            <Link to=\"/wallet\" className=\"btn-action\">My Wallet</Link>\r\n                        </div>\r\n                    </TabPanel>\r\n                    <TabPanel>\r\n                        <div className=\"content-inner profile change-pass\">\r\n                            <h4>Change Password</h4>\r\n                            <h6>New Passworld</h6>\r\n                            <form action=\"#\">\r\n                            <div className=\"form-group\">\r\n                                <div>\r\n                                <label>Old Passworld<span>*</span>:</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    className=\"form-control\"\r\n                                    value=\"123456789\"\r\n                                />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div>\r\n                                <label>New Passworld<span>*</span>:</label>\r\n                                <input\r\n                                    type=\"password\"\r\n                                    className=\"form-control\"\r\n                                    placeholder=\"New Passworld\"\r\n                                />\r\n                                </div>\r\n                                <div>\r\n                                <label>Confirm Passworld<span>*</span>:</label>\r\n                                <input\r\n                                    type=\"password\"\r\n                                    className=\"form-control\"\r\n                                    placeholder=\"Confirm Passworld\"\r\n                                />\r\n                                </div>\r\n                            </div>\r\n                            </form>\r\n                            <button type=\"submit\" className=\"btn-action\">\r\n                            Change Passworld\r\n                            </button>\r\n                        </div>\r\n                    </TabPanel>\r\n                    \r\n\r\n                </Tabs> \r\n                </div>\r\n            </div>\r\n            </section>\r\n            \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UserProfile;"]},"metadata":{},"sourceType":"module"}